# 概要

topology 可视化引擎主要由：画笔（节点、连线）、属性数据、算法、状态、事件、动画等构成。

![乐吾乐topology架构图](/img/架构.png)

**画笔**  
画笔继承 rect，加上自有属性组成。

**状态**  
状态主要有：默认、活动（hover）、选中（active） 3 种。

**坐标**  
topology 引擎坐标有 3 种：逻辑坐标、相对原点坐标、世界坐标。

- 逻辑坐标：  
  画布标尺坐标。不随缩放、旋转、画布拖拽变化。通过 topology.getPenRect(pen)获取

- 相对原点坐标：  
  相对标尺坐标原点的坐标。也是 Pen 数据保存的坐标，画布拖拽不变化，缩放会变化。

- 世界坐标：  
  底层 canvas 的绘画坐标。
